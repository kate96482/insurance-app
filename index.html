<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>小邦手</title>

    <link rel="apple-touch-icon" href="logo.png">
    <link rel="icon" type="image/png" href="logo.png">
    <meta name="apple-mobile-web-app-title" content="小邦手">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root { --primary-color: #4CC9F0; --secondary-color: #7209B7; --bg-color: #F8F9FA; --text-color: #333; }
        body { font-family: "Microsoft JhengHei", sans-serif; background-color: var(--bg-color); margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .header { text-align: center; margin-bottom: 30px; margin-top: 20px; }
        .header h1 { color: var(--secondary-color); margin: 0; font-size: 1.8rem; }
        .header p { color: #666; margin-top: 8px; font-size: 0.9rem; }
        .grid-container { display: grid; grid-template-columns: 1fr; gap: 20px; width: 100%; max-width: 450px; }
        @media (min-width: 600px) { .grid-container { max-width: 800px; grid-template-columns: 1fr 1fr; } }

        .tool-card {
            background: white; border-radius: 20px; padding: 25px; 
            display: flex; align-items: center; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.05); 
            transition: transform 0.2s; border: 1px solid #eee;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }
        .tool-card:active { transform: scale(0.96); background-color: #f9f9f9; }
        .icon-box { width: 60px; height: 60px; border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-right: 20px; font-size: 1.5rem; color: white; }
        .info-box h3 { margin: 0; font-size: 1.15rem; color: #222; }
        .info-box p { margin: 5px 0 0 0; font-size: 0.85rem; color: #888; }
        
        .bg-cancer { background: linear-gradient(135deg, #FF6B6B, #EE5253); }
        .bg-numerology { background: linear-gradient(135deg, #4CC9F0, #4895EF); }
        .bg-money { background: linear-gradient(135deg, #B5EAD7, #88D8B0); } 
        .bg-mbti { background: linear-gradient(135deg, #A29BFE, #6C5CE7); }
        .footer { margin-top: 50px; font-size: 0.75rem; color: #BBB; }
    </style>
</head>
<body>

    <div class="header">
        <h1>數位工具箱</h1>
        <p>提供您專業且便捷的試算服務</p>
    </div>

    <div class="grid-container">
        <div onclick="navTo('cancer_calc.html');" class="tool-card">
            <div class="icon-box bg-cancer"><i class="fa-solid fa-file-medical"></i></div>
            <div class="info-box"><h3>防癌無憂試算</h3><p>即時計算保費與癌症數據對比</p></div>
        </div>

        <div onclick="navTo('numerology.html');" class="tool-card">
            <div class="icon-box bg-numerology"><i class="fa-solid fa-star"></i></div>
            <div class="info-box"><h3>生命靈數全解析</h3><p>九宮格連線與流年週期運勢</p></div>
        </div>
        
        <div onclick="navTo('money.html');" class="tool-card">
            <div class="icon-box bg-money"><i class="fa-solid fa-money-bill-trend-up"></i></div>
            <div class="info-box"><h3>貸款試算全攻略</h3><p>信貸周轉/購屋貸款/原屋融資</p></div>
        </div>

        <div onclick="navTo('mbti.html');" class="tool-card">
            <div class="icon-box bg-mbti"><i class="fa-solid fa-puzzle-piece"></i></div>
            <div class="info-box"><h3>16型人格測驗</h3><p>探索內在核心與社交特質解析</p></div>
        </div>
    </div>

    <div class="footer">&copy; 2026 數位工具箱</div>

    <script>
        // 【核心修正】這段腳本會強制在當前 PWA 視窗內跳轉，不再彈出打叉視窗
        function navTo(url) {
            if (("standalone" in window.navigator) && window.navigator.standalone) {
                // 如果是 iOS PWA 模式，強制使用 location.assign 
                // 並且確保不觸發系統預設的新視窗行為
                window.location.assign(url);
            } else {
                // 普通網頁模式
                window.location.href = url;
            }
        }

        // 另外增加一個全局攔截，防止所有意外的視窗彈出
        (function(document, navigator, standalone) {
            if ((standalone in navigator) && navigator[standalone]) {
                document.addEventListener('click', function(e) {
                    let noddy = e.target;
                    while (noddy.nodeName !== "A" && noddy.nodeName !== "HTML") {
                        noddy = noddy.parentNode;
                    }
                    if ("href" in noddy && noddy.href.indexOf('http') === -1 && (noddy.href.indexOf(window.location.host) !== -1)) {
                        e.preventDefault();
                        window.location.href = noddy.href;
                    }
                }, false);
            }
        })(document, window.navigator, 'standalone');
    </script>
</body>
</html>
