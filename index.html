<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <link rel="manifest" href="manifest.json">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>小邦手</title>

    <link rel="apple-touch-icon" href="logo.png">
    <link rel="icon" type="image/png" href="logo.png">
    <meta name="apple-mobile-web-app-title" content="小邦手">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root { --primary-color: #4CC9F0; --secondary-color: #7209B7; --bg-color: #F8F9FA; --text-color: #333; }
        body { font-family: "Microsoft JhengHei", sans-serif; background-color: var(--bg-color); margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        
        /* Header 區域樣式優化 */
        .header { text-align: center; margin-bottom: 30px; margin-top: 20px; position: relative; }
        .title-wrapper { display: flex; align-items: center; justify-content: center; gap: 10px; position: relative; }
        .header h1 { color: var(--secondary-color); margin: 0; font-size: 1.8rem; }
        .header p { color: #666; margin-top: 8px; font-size: 0.9rem; }

        /* 鈴鐺與公告彈窗樣式 */
        .notice-bell {
            position: relative;
            cursor: pointer;
            font-size: 1.4rem;
            color: #FF9F43; /* 溫暖的橘色 */
            transition: transform 0.2s;
            padding: 5px;
        }
        .notice-bell:active { transform: scale(0.9); }
        .notice-bell .dot {
            position: absolute;
            top: 5px;
            right: 2px;
            width: 8px;
            height: 8px;
            background-color: #FF6B6B;
            border-radius: 50%;
            border: 2px solid white;
        }

        .notice-popover {
            position: absolute;
            top: 45px;
            right: -20px;
            width: 260px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            padding: 15px;
            text-align: left;
            z-index: 1000;
            display: none; /* 初始隱藏 */
            border: 1px solid rgba(0,0,0,0.05);
            animation: slideDown 0.3s ease;
        }
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .notice-popover h4 { margin: 0 0 10px 0; font-size: 1rem; color: var(--secondary-color); display: flex; align-items: center; gap: 5px; }
        .notice-content { font-size: 0.85rem; color: #555; line-height: 1.6; }
        .notice-content ul { margin: 0; padding-left: 18px; }
        .notice-content li { margin-bottom: 5px; }

        .grid-container { display: grid; grid-template-columns: 1fr; gap: 20px; width: 100%; max-width: 450px; }
        @media (min-width: 600px) { .grid-container { max-width: 800px; grid-template-columns: 1fr 1fr; } }

        .tool-card {
            background: white; border-radius: 20px; padding: 25px; 
            display: flex; align-items: center; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.05); 
            transition: transform 0.2s; border: 1px solid #eee;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }
        .tool-card:active { transform: scale(0.96); background-color: #f9f9f9; }
        .icon-box { width: 60px; height: 60px; border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-right: 20px; font-size: 1.5rem; color: white; }
        .info-box h3 { margin: 0; font-size: 1.15rem; color: #222; }
        .info-box p { margin: 5px 0 0 0; font-size: 0.85rem; color: #888; }
        
        /* 顏色主題 */
        .bg-cancer { background: linear-gradient(135deg, #FF6B6B, #EE5253); }
        .bg-retire { background: linear-gradient(135deg, #DE6262, #FFB88C); }
        .bg-numerology { background: linear-gradient(135deg, #4CC9F0, #4895EF); }
        .bg-money { background: linear-gradient(135deg, #B5EAD7, #88D8B0); } 
        .bg-mbti { background: linear-gradient(135deg, #A29BFE, #6C5CE7); }
        .bg-disc { background: linear-gradient(135deg, #FF9F43, #FF6B6B); }
        .bg-energy { background: linear-gradient(135deg, #A68A64, #5C4B3C); }

        .footer { margin-top: 50px; font-size: 0.75rem; color: #BBB; }
    </style>
</head>
<body>

    <div class="header">
        <div class="title-wrapper">
            <h1>數位工具箱</h1>
            <div class="notice-bell" id="bellBtn">
                <i class="fa-solid fa-bell"></i>
                <div class="dot"></div>
                <div class="notice-popover" id="noticeBox">
                    <h4><i class="fa-solid fa-bullhorn"></i> 更新公告</h4>
                    <div class="notice-content">
                        <ul>
                            <li><b>[新增]</b> 貸款試算新增利率參考側邊欄，點擊右方藍色按鈕即可查看。</li>
                            <li><b>[優化]</b> 調整整體介面配色，提供更舒適的瀏覽體驗。</li>
                            <li><b>[預告]</b> 功能開發中，敬請期待！</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <p>提供您專業且便捷的試算服務</p>
    </div>

    <div class="grid-container">
        <div onclick="navTo('energy.html', event);" class="tool-card">
            <div class="icon-box bg-energy"><i class="fa-solid fa-mug-hot"></i></div>
            <div class="info-box">
                <h3>每日能量生活圖卡</h3>
                <p>生成專屬質感能量飲品與暖心建議</p>
            </div>
        </div>

        <div onclick="navTo('cancer_calc.html', event);" class="tool-card">
            <div class="icon-box bg-cancer"><i class="fa-solid fa-file-medical"></i></div>
            <div class="info-box"><h3>防癌無憂試算</h3><p>即時計算保費與癌症數據對比</p></div>
        </div>

        <div onclick="navTo('labor_calc.html', event);" class="tool-card">
            <div class="icon-box bg-retire"><i class="fa-solid fa-hourglass-half"></i></div>
            <div class="info-box">
                <h3>退休金缺口解析</h3>
                <p>勞保預估與退休金缺口目標達成</p>
            </div>
        </div>

        <div onclick="navTo('numerology.html', event);" class="tool-card">
            <div class="icon-box bg-numerology"><i class="fa-solid fa-star"></i></div>
            <div class="info-box"><h3>生命靈數全解析</h3><p>九宮格連線與流年週期運勢</p></div>
        </div>
        
        <div onclick="navTo('money.html', event);" class="tool-card">
            <div class="icon-box bg-money"><i class="fa-solid fa-money-bill-trend-up"></i></div>
            <div class="info-box"><h3>貸款試算全攻略</h3><p>信貸周轉/購屋貸款/原屋融資</p></div>
        </div>

        <div onclick="navTo('mbti.html', event);" class="tool-card">
            <div class="icon-box bg-mbti"><i class="fa-solid fa-puzzle-piece"></i></div>
            <div class="info-box"><h3>16型人格測驗</h3><p>探索內在核心與社交特質解析</p></div>
        </div>

        <div onclick="navTo('disc.html', event);" class="tool-card">
            <div class="icon-box bg-disc"><i class="fa-solid fa-bullseye"></i></div>
            <div class="info-box">
                <h3>DISC 人格診斷</h3>
                <p>掌握行為風格，分析人格行為特質</p>
            </div>
        </div>
    </div>

    <div class="footer">&copy; 2026 數位工具箱</div>

    <script>
        // 公告欄顯示切換
        const bellBtn = document.getElementById('bellBtn');
        const noticeBox = document.getElementById('noticeBox');

        bellBtn.addEventListener('click', (e) => {
            e.stopPropagation(); // 防止觸發導航
            const isVisible = noticeBox.style.display === 'block';
            noticeBox.style.display = isVisible ? 'none' : 'block';
        });

        // 點擊畫面其他地方關閉公告
        document.addEventListener('click', () => {
            noticeBox.style.display = 'none';
        });

        function navTo(url, e) {
            if (e) e.preventDefault();
            if (("standalone" in window.navigator) && window.navigator.standalone) {
                window.location.replace(url);
            } else {
                window.location.href = url;
            }
        }

        (function(document, navigator, standalone) {
            if ((standalone in navigator) && navigator[standalone]) {
                document.addEventListener('click', function(e) {
                    let noddy = e.target;
                    while (noddy && noddy.nodeName !== "A" && noddy.nodeName !== "HTML") {
                        noddy = noddy.parentNode;
                    }
                    if (noddy && "href" in noddy && noddy.hostname === window.location.hostname) {
                        e.preventDefault();
                        window.location.replace(noddy.href);
                    }
                }, false);
            }
        })(document, window.navigator, 'standalone');
    </script>
</body>
</html>
